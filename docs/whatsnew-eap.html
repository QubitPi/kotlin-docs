<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-21T03:58:59.020003738"><link rel="canonical" href="https://kotlinlang.org/docs/whatsnew-eap.html" data-react-helmet="true"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>What's new in Kotlin 2.2.0-RC3 | Kotlin Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"ide-support","level":0,"title":"IDE support","anchor":"#ide-support"},{"id":"language","level":0,"title":"Language","anchor":"#language"},{"id":"stable-features-guard-conditions-non-local-break-and-continue-and-multi-dollar-interpolation","level":1,"title":"Stable features: guard conditions, non-local break and continue, and multi-dollar interpolation","anchor":"#stable-features-guard-conditions-non-local-break-and-continue-and-multi-dollar-interpolation"},{"id":"preview-of-context-parameters","level":1,"title":"Preview of context parameters","anchor":"#preview-of-context-parameters"},{"id":"kotlin-compiler-unified-management-of-compiler-warnings","level":0,"title":"Kotlin compiler: unified management of compiler warnings","anchor":"#kotlin-compiler-unified-management-of-compiler-warnings"},{"id":"how-to-apply","level":1,"title":"How to apply","anchor":"#how-to-apply"},{"id":"use-cases","level":1,"title":"Use cases","anchor":"#use-cases"},{"id":"leave-feedback","level":1,"title":"Leave feedback","anchor":"#leave-feedback"},{"id":"kotlin-jvm","level":0,"title":"Kotlin/JVM","anchor":"#kotlin-jvm"},{"id":"changes-to-default-method-generation-for-interface-functions","level":1,"title":"Changes to default method generation for interface functions","anchor":"#changes-to-default-method-generation-for-interface-functions"},{"id":"support-for-reading-and-writing-annotations-in-kotlin-metadata","level":1,"title":"Support for reading and writing annotations in Kotlin metadata","anchor":"#support-for-reading-and-writing-annotations-in-kotlin-metadata"},{"id":"kotlin-native","level":0,"title":"Kotlin/Native","anchor":"#kotlin-native"},{"id":"per-object-memory-allocation","level":1,"title":"Per-object memory allocation","anchor":"#per-object-memory-allocation"},{"id":"llvm-update-from-16-to-19","level":1,"title":"LLVM update from 16 to 19","anchor":"#llvm-update-from-16-to-19"},{"id":"kotlin-wasm-wasmjs-target-separated-from-js-target","level":0,"title":"Kotlin/Wasm: wasmJs target separated from js target","anchor":"#kotlin-wasm-wasmjs-target-separated-from-js-target"},{"id":"kotlin-js","level":0,"title":"Kotlin/JS","anchor":"#kotlin-js"},{"id":"fix-for-copy-in-jsplainobject-interfaces","level":1,"title":"Fix for copy() in @JsPlainObject interfaces","anchor":"#fix-for-copy-in-jsplainobject-interfaces"},{"id":"support-for-typealiases-in-files-with-jsmodule-annotation","level":1,"title":"Support for typealiases in files with @JsModule annotation","anchor":"#support-for-typealiases-in-files-with-jsmodule-annotation"},{"id":"gradle","level":0,"title":"Gradle","anchor":"#gradle"},{"id":"support-for-rich-output-in-console-for-kotlin-gradle-plugin","level":1,"title":"Support for rich output in console for Kotlin Gradle plugin","anchor":"#support-for-rich-output-in-console-for-kotlin-gradle-plugin"},{"id":"integration-of-problems-api-within-kgp-diagnostics","level":1,"title":"Integration of Problems API within KGP diagnostics","anchor":"#integration-of-problems-api-within-kgp-diagnostics"},{"id":"kgp-compatibility-with-warning-mode","level":1,"title":"KGP compatibility with \u0027--warning-mode\u0027","anchor":"#kgp-compatibility-with-warning-mode"},{"id":"kotlin-standard-library-stable-base64-and-hexformat-apis","level":0,"title":"Kotlin standard library: Stable Base64 and HexFormat APIs","anchor":"#kotlin-standard-library-stable-base64-and-hexformat-apis"},{"id":"base64-encoding-and-decoding","level":1,"title":"Base64 encoding and decoding","anchor":"#base64-encoding-and-decoding"},{"id":"hexadecimal-parsing-and-formatting-with-the-hexformat-api","level":1,"title":"Hexadecimal parsing and formatting with the HexFormat API","anchor":"#hexadecimal-parsing-and-formatting-with-the-hexformat-api"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="https://kotlinlang.org/assets/images/favicon.svg?v2"><link rel="icon" type="image/x-icon" sizes="32x32" href="https://kotlinlang.org/assets/images/favicon.ico?v2"><link rel="icon" type="image/png" sizes="96x96" href="https://kotlinlang.org/assets/images/apple-touch-icon.png?v2"><link rel="icon" type="image/png" sizes="300x300" href="https://kotlinlang.org/assets/images/apple-touch-icon-72x72.png?v2"><link rel="icon" type="image/png" sizes="500x500" href="https://kotlinlang.org/assets/images/apple-touch-icon-114x114.png?v2"><meta name="image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- Open Graph --><meta property="og:title" content="What's new in Kotlin 2.2.0-RC3 | Kotlin"><meta property="og:description" content=""><meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://kotlinlang.org/docs/whatsnew-eap.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="What's new in Kotlin 2.2.0-RC3 | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://kotlinlang.org/docs/whatsnew-eap.html#webpage",
    "url": "https://kotlinlang.org/docs/whatsnew-eap.html",
    "name": "What's new in Kotlin 2.2.0-RC3 | Kotlin",
    "description": "",
    "image": "https://kotlinlang.org/assets/images/open-graph/docs.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://kotlinlang.org/docs/#website",
    "url": "https://kotlinlang.org/docs/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --><style>a[href="test-page.html"] { visibility: hidden; }</style></head><body data-id="whatsnew-eap" data-main-title="What's new in Kotlin 2.2.0-RC3" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="What's new in Kotlin" data-edit-url="https://github.com/JetBrains/kotlin-web-site/edit/master/docs/topics/whatsnew/whatsnew-eap.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="whatsnew-eap" id="whatsnew-eap.md">What's new in Kotlin 2.2.0-RC3</h1><p id="-5rdbr5_2"><span class="emphasis" id="-5rdbr5_15"><a href="eap.html#build-details" id="-5rdbr5_16">Released: June 16, 2025</a></span></p><aside class="prompt" data-type="note" data-title="" id="-5rdbr5_3"><p id="-5rdbr5_17">This document doesn't cover all of the features of the Early Access Preview (EAP) release, but it highlights some major improvements.</p><p id="-5rdbr5_18">See the full list of changes in the <a href="https://github.com/JetBrains/kotlin/releases/tag/v2.2.0-RC3" id="-5rdbr5_19" data-external="true" rel="noopener noreferrer" target="_blank">GitHub changelog</a>.</p></aside><p id="-5rdbr5_4">The Kotlin 2.2.0-RC3 release is out! Here are some details of this EAP release:</p><ul class="list _bullet" id="-5rdbr5_5"><li class="list__item" id="-5rdbr5_20"><p id="-5rdbr5_24"><a href="#preview-of-context-parameters" id="-5rdbr5_25">Language: preview of context parameters</a></p></li><li class="list__item" id="-5rdbr5_21"><p id="-5rdbr5_26"><a href="#kotlin-compiler-unified-management-of-compiler-warnings" id="-5rdbr5_27">Kotlin compiler: unified management of compiler warnings</a></p></li><li class="list__item" id="-5rdbr5_22"><p id="-5rdbr5_28"><a href="#changes-to-default-method-generation-for-interface-functions" id="-5rdbr5_29">Kotlin/JVM: changes to default method generation for interface functions</a></p></li><li class="list__item" id="-5rdbr5_23"><p id="-5rdbr5_30"><a href="#integration-of-problems-api-within-kgp-diagnostics" id="-5rdbr5_31">Gradle: integration of Problems API within KGP diagnostics</a> and <a href="#kgp-compatibility-with-warning-mode" id="-5rdbr5_32">KGP compatibility with '--warning-mode'</a></p></li></ul><section class="chapter"><h2 id="ide-support" data-toc="ide-support">IDE support</h2><p id="-5rdbr5_33">The Kotlin plugins that support 2.2.0-RC3 are bundled in the latest IntelliJ IDEA and Android Studio. You don't need to update the Kotlin plugin in your IDE. All you need to do is to <a href="configure-build-for-eap.html" id="-5rdbr5_35">change the Kotlin version</a> to 2.2.0-RC3 in your build scripts.</p><p id="-5rdbr5_34">See <a href="releases.html#update-to-a-new-kotlin-version" id="-5rdbr5_36">Update to a new release</a> for details.</p></section><section class="chapter"><h2 id="language" data-toc="language">Language</h2><p id="-5rdbr5_37">This release promotes some language features as stable and brings context parameters in preview.</p><section class="chapter"><h3 id="stable-features-guard-conditions-non-local-break-and-continue-and-multi-dollar-interpolation" data-toc="stable-features-guard-conditions-non-local-break-and-continue-and-multi-dollar-interpolation">Stable features: guard conditions, non-local break and continue, and multi-dollar interpolation</h3><p id="-5rdbr5_40">In Kotlin 2.1.0, several new language features were introduced in preview. We're happy to announce that these language features became <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_43">Stable</a> in this release:</p><ul class="list _bullet" id="-5rdbr5_41"><li class="list__item" id="-5rdbr5_44"><p id="-5rdbr5_47"><a href="whatsnew21.html#guard-conditions-in-when-with-a-subject" id="-5rdbr5_48">Guard conditions in <code class="code" id="-5rdbr5_49">when</code> with a subject</a></p></li><li class="list__item" id="-5rdbr5_45"><p id="-5rdbr5_50"><a href="whatsnew21.html#non-local-break-and-continue" id="-5rdbr5_51">Non-local <code class="code" id="-5rdbr5_52">break</code> and <code class="code" id="-5rdbr5_53">continue</code></a></p></li><li class="list__item" id="-5rdbr5_46"><p id="-5rdbr5_54"><a href="whatsnew21.html#multi-dollar-string-interpolation" id="-5rdbr5_55">Multi-dollar interpolation: improved handling of <code class="code" id="-5rdbr5_56">$</code> in string literals</a></p></li></ul><p id="-5rdbr5_42"><a href="kotlin-language-features-and-proposals.html" id="-5rdbr5_57">See the full list of Kotlin language design features and proposals</a>.</p></section><section class="chapter"><h3 id="preview-of-context-parameters" data-toc="preview-of-context-parameters" data-label-id="experimental-general">Preview of context parameters</h3><p id="-5rdbr5_59">In this release, context parameters are introduced in preview. Context parameters allow functions and properties to declare dependencies that are implicitly available in the surrounding context.</p><p id="-5rdbr5_60">This feature replaces an older experimental feature called context receivers. To migrate from context receivers to context parameters, you can use assisted support in IntelliJ IDEA, as described in the <a href="https://blog.jetbrains.com/kotlin/2025/04/update-on-context-parameters/" id="-5rdbr5_66" data-external="true" rel="noopener noreferrer" target="_blank">blog post</a>.</p><section class="chapter"><h4 id="how-to-declare-context-parameters" data-toc="how-to-declare-context-parameters">How to declare context parameters</h4><p id="-5rdbr5_67">You can declare context parameters for properties and functions using the <code class="code" id="-5rdbr5_71">context</code> keyword followed by a list of parameters, each of the form <code class="code" id="-5rdbr5_72">name: Type</code>. Here is an example with a dependency on the <code class="code" id="-5rdbr5_73">UserService</code> interface:</p><div class="code-block" data-lang="kotlin">
// `UserService` defines the dependency required in context 
interface UserService {
    fun log(message: String)
    fun findUserById(id: Int): String
}

// Declares a function with a context parameter
context(users: UserService)
fun outputMessage(message: String) {
    // Uses `log` from the context
    users.log(&quot;Log: $message&quot;)
}

// Declares a property with a context parameter
context(users: UserService)
val firstUser: String
    // Uses `findUserById` from the context    
    get() = users.findUserById(1)
</div><p id="-5rdbr5_69">You can use <code class="code" id="-5rdbr5_74">_</code> as a context parameter name. In this case, the parameter's value is available for resolution but is not accessible by name inside the block:</p><div class="code-block" data-lang="kotlin">
// Uses `_` as context parameter name
context(_: UserService)
fun logWelcome() {
    // Resolution still finds the appropriate `log` function from UserService
    outputMessage(&quot;Welcome!&quot;)
}
</div></section><section class="chapter"><h4 id="context-parameters-resolution" data-toc="context-parameters-resolution">Context parameters resolution</h4><p id="-5rdbr5_75">Kotlin resolves context parameters at the call site by searching for matching context values in the current scope. Kotlin matches them by their type. If multiple compatible values exist at the same scope level, the compiler reports an ambiguity:</p><div class="code-block" data-lang="kotlin">
// `UserService` defines the dependency required in context
interface UserService {
    fun log(message: String)
}

// Declares a function with a context parameter
context(users: UserService)
fun outputMessage(message: String) {
    users.log(&quot;Log: $message&quot;)
}

fun main() {
    // Implements `UserService` 
    val serviceA = object : UserService {
        override fun log(message: String) = println(&quot;A: $message&quot;)
    }

    // Implements `UserService`
    val serviceB = object : UserService {
        override fun log(message: String) = println(&quot;B: $message&quot;)
    }

    // Both `serviceA` and `serviceB` match the expected `UserService` type at the call site
    context(serviceA, serviceB) {
        outputMessage(&quot;This will not compile&quot;)
        // Ambiguity error
    }
}
</div></section><section class="chapter"><h4 id="restrictions" data-toc="restrictions">Restrictions</h4><p id="-5rdbr5_77">Context parameters are in continuous improvement; some of the current restrictions are:</p><ul class="list _bullet" id="-5rdbr5_78"><li class="list__item" id="-5rdbr5_80"><p id="-5rdbr5_83">Constructors cannot declare context parameters</p></li><li class="list__item" id="-5rdbr5_81"><p id="-5rdbr5_84">Properties with context parameters can't have backing fields or initializers</p></li><li class="list__item" id="-5rdbr5_82"><p id="-5rdbr5_85">Properties with context parameters can't use delegation</p></li></ul><p id="-5rdbr5_79">However, context parameters in Kotlin represent a significant improvement in managing dependencies through simplified dependency injection, improved DSL design, and scoped operations. For more information, see the feature's <a href="https://github.com/Kotlin/KEEP/blob/context-parameters/proposals/context-parameters.md" id="-5rdbr5_86" data-external="true" rel="noopener noreferrer" target="_blank">KEEP</a>.</p></section><section class="chapter"><h4 id="how-to-enable-context-parameters" data-toc="how-to-enable-context-parameters">How to enable context parameters</h4><p id="-5rdbr5_87">To enable context parameters in your project, use the following compiler option in the command line:</p><div class="code-block" data-lang="bash">
-Xcontext-parameters
</div><p id="-5rdbr5_89">Or add it to the <code class="code" id="-5rdbr5_92">compilerOptions {}</code> block of your Gradle build file:</p><div class="code-block" data-lang="kotlin">
// build.gradle.kts
kotlin {
    compilerOptions {
        freeCompilerArgs.add(&quot;-Xcontext-parameters&quot;)
    }
}
</div><aside class="prompt" data-type="warning" data-title="" id="-5rdbr5_91"><p id="-5rdbr5_93">Specifying both <code class="code" id="-5rdbr5_94">-Xcontext-receivers</code> and <code class="code" id="-5rdbr5_95">-Xcontext-parameters</code> compiler options simultaneously leads to an error.</p></aside></section><section class="chapter"><h4 id="leave-your-feedback" data-toc="leave-your-feedback">Leave your feedback</h4><p id="-5rdbr5_96">This feature is planned to be stabilized and improved in future Kotlin releases. We would appreciate your feedback in our issue tracker <a href="https://youtrack.jetbrains.com/issue/KT-10468/Context-Parameters-expanding-extension-receivers-to-work-with-scopes" id="-5rdbr5_97" data-external="true" rel="noopener noreferrer" target="_blank">YouTrack</a>.</p></section></section></section><section class="chapter"><h2 id="kotlin-compiler-unified-management-of-compiler-warnings" data-toc="kotlin-compiler-unified-management-of-compiler-warnings" data-label-id="experimental-general">Kotlin compiler: unified management of compiler warnings</h2><p id="-5rdbr5_99">Kotlin 2.2.0-RC3 introduces a new compiler option, <code class="code" id="-5rdbr5_105">-Xwarning-level</code>. It's designed to provide a unified way of managing compiler warnings in Kotlin projects.</p><p id="-5rdbr5_100">Previously, you could only apply general module-wide rules, like disabling all warnings with <code class="code" id="-5rdbr5_106">-nowarn</code>, turning all warnings to compilation errors with <code class="code" id="-5rdbr5_107">-Werror</code>, or enabling additional compiler checks with <code class="code" id="-5rdbr5_108">-Wextra</code>. The only option to adjust them for specific warnings was the <code class="code" id="-5rdbr5_109">-Xsuppress-warning</code> option.</p><p id="-5rdbr5_101">With the new solution, you can override general rules and exclude specific diagnostics in a consistent way.</p><section class="chapter"><h3 id="how-to-apply" data-toc="how-to-apply">How to apply</h3><p id="-5rdbr5_110">The new compiler option has the following syntax:</p><div class="code-block" data-lang="bash">
-Xwarning-level=DIAGNOSTIC_NAME:(error|warning|disabled)
</div><ul class="list _bullet" id="-5rdbr5_112"><li class="list__item" id="-5rdbr5_114"><p id="-5rdbr5_117"><code class="code" id="-5rdbr5_118">error</code>: raises the specified warning to an error.</p></li><li class="list__item" id="-5rdbr5_115"><p id="-5rdbr5_119"><code class="code" id="-5rdbr5_120">warning</code>: emits a warning and is enabled by default.</p></li><li class="list__item" id="-5rdbr5_116"><p id="-5rdbr5_121"><code class="code" id="-5rdbr5_122">disabled</code>: completely suppresses the specified warning module-wide.</p></li></ul><p id="-5rdbr5_113">Keep in mind that you can only configure the severity level of <span class="emphasis" id="-5rdbr5_123">warnings</span> with the new compiler option.</p></section><section class="chapter"><h3 id="use-cases" data-toc="use-cases">Use cases</h3><p id="-5rdbr5_124">With the new solution, you can better fine-tune warning reporting in your project by combining general rules with specific ones. Choose your use case:</p><section class="chapter"><h4 id="suppress-warnings" data-toc="suppress-warnings">Suppress warnings</h4><div class="table-wrapper"><table class="wide" id="-5rdbr5_129"><thead><tr class="ijRowHead" id="-5rdbr5_130"><th id="-5rdbr5_134"><p>Command</p></th><th id="-5rdbr5_135"><p>Description</p></th></tr></thead><tbody><tr id="-5rdbr5_131"><td id="-5rdbr5_136"><p><a href="compiler-reference.html#nowarn" id="-5rdbr5_138"><code class="code" id="-5rdbr5_139">-nowarn</code></a></p></td><td id="-5rdbr5_137"><p>Suppresses all warnings during compilation.</p></td></tr><tr id="-5rdbr5_132"><td id="-5rdbr5_140"><p><code class="code" id="-5rdbr5_142">-Xwarning-level=DIAGNOSTIC_NAME:disabled</code></p></td><td id="-5rdbr5_141"><p>Suppresses only specified warnings. Works the same as <a href="compiler-reference.html#xsuppress-warning" id="-5rdbr5_143"><code class="code" id="-5rdbr5_144">-Xsuppress-warning</code></a>.</p></td></tr><tr id="-5rdbr5_133"><td id="-5rdbr5_145"><p><code class="code" id="-5rdbr5_147">-nowarn -Xwarning-level=DIAGNOSTIC_NAME:warning</code></p></td><td id="-5rdbr5_146"><p>Suppresses all warnings except for the specified ones.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="raise-warnings-to-errors" data-toc="raise-warnings-to-errors">Raise warnings to errors</h4><div class="table-wrapper"><table class="wide" id="-5rdbr5_148"><thead><tr class="ijRowHead" id="-5rdbr5_149"><th id="-5rdbr5_153"><p>Command</p></th><th id="-5rdbr5_154"><p>Description</p></th></tr></thead><tbody><tr id="-5rdbr5_150"><td id="-5rdbr5_155"><p><a href="compiler-reference.html#werror" id="-5rdbr5_157"><code class="code" id="-5rdbr5_158">-Werror</code></a></p></td><td id="-5rdbr5_156"><p>Raises all warnings to compilation errors.</p></td></tr><tr id="-5rdbr5_151"><td id="-5rdbr5_159"><p><code class="code" id="-5rdbr5_161">-Xwarning-level=DIAGNOSTIC_NAME:error</code></p></td><td id="-5rdbr5_160"><p>Raises only specified warnings to errors.</p></td></tr><tr id="-5rdbr5_152"><td id="-5rdbr5_162"><p><code class="code" id="-5rdbr5_164">-Werror -Xwarning-level=DIAGNOSTIC_NAME:warning</code></p></td><td id="-5rdbr5_163"><p>Raises all warnings to errors except for the specified ones.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="enable-additional-compiler-warnings" data-toc="enable-additional-compiler-warnings">Enable additional compiler warnings</h4><div class="table-wrapper"><table class="wide" id="-5rdbr5_165"><thead><tr class="ijRowHead" id="-5rdbr5_166"><th id="-5rdbr5_170"><p>Command</p></th><th id="-5rdbr5_171"><p>Description</p></th></tr></thead><tbody><tr id="-5rdbr5_167"><td id="-5rdbr5_172"><p><a href="compiler-reference.html#wextra" id="-5rdbr5_174"><code class="code" id="-5rdbr5_175">-Wextra</code></a></p></td><td id="-5rdbr5_173"><p>Enables all additional declaration, expression, and type compiler checks that emit warnings if true.</p></td></tr><tr id="-5rdbr5_168"><td id="-5rdbr5_176"><p><code class="code" id="-5rdbr5_178">-Xwarning-level=DIAGNOSTIC_NAME:warning</code></p></td><td id="-5rdbr5_177"><p>Enables only specified additional compiler checks.</p></td></tr><tr id="-5rdbr5_169"><td id="-5rdbr5_179"><p><code class="code" id="-5rdbr5_181">-Wextra -Xwarning-level=DIAGNOSTIC_NAME:disabled</code></p></td><td id="-5rdbr5_180"><p>Enables all additional checks except for the specified ones.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="warning-lists" data-toc="warning-lists">Warning lists</h4><p id="-5rdbr5_182">In case you have many warnings you want to exclude from general rules, you can list them in a separate file through <a href="compiler-reference.html#argfile" id="-5rdbr5_183"><code class="code" id="-5rdbr5_184">@argfile</code></a>.</p></section></section><section class="chapter"><h3 id="leave-feedback" data-toc="leave-feedback">Leave feedback</h3><p id="-5rdbr5_185">The new compiler option is still <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_186">Experimental</a>. Please report any problems to our issue tracker, <a href="https://kotl.in/issue" id="-5rdbr5_187" data-external="true" rel="noopener noreferrer" target="_blank">YouTrack</a>.</p></section></section><section class="chapter"><h2 id="kotlin-jvm" data-toc="kotlin-jvm">Kotlin/JVM</h2><section class="chapter"><h3 id="changes-to-default-method-generation-for-interface-functions" data-toc="changes-to-default-method-generation-for-interface-functions">Changes to default method generation for interface functions</h3><p id="-5rdbr5_190">Starting from Kotlin 2.2.0-RC3, functions declared in interfaces are compiled to JVM default methods unless configured otherwise. This change affects how Kotlin's interface functions with implementations are compiled to bytecode. This behavior is controlled by the new stable compiler option <code class="code" id="-5rdbr5_195">-jvm-default</code>, replacing the deprecated <code class="code" id="-5rdbr5_196">-Xjvm-default</code> option.</p><p id="-5rdbr5_191">You can control the behavior of the <code class="code" id="-5rdbr5_197">-jvm-default</code> option using the following values:</p><ul class="list _bullet" id="-5rdbr5_192"><li class="list__item" id="-5rdbr5_198"><p id="-5rdbr5_201"><code class="code" id="-5rdbr5_202">enable</code> (default): generates default implementations in interfaces and includes bridge functions in subclasses and <code class="code" id="-5rdbr5_203">DefaultImpls</code> classes. Use this mode to maintain binary compatibility with older Kotlin versions.</p></li><li class="list__item" id="-5rdbr5_199"><p id="-5rdbr5_204"><code class="code" id="-5rdbr5_205">no-compatibility</code>: generates only default implementations in interfaces. This mode skips compatibility bridges and <code class="code" id="-5rdbr5_206">DefaultImpls</code> classes, making it suitable for new code.</p></li><li class="list__item" id="-5rdbr5_200"><p id="-5rdbr5_207"><code class="code" id="-5rdbr5_208">disable</code>: disables default implementations in interfaces. Only bridge functions and <code class="code" id="-5rdbr5_209">DefaultImpls</code> classes are generated, matching the behavior before Kotlin 2.2.0-RC3.</p></li></ul><p id="-5rdbr5_193">To configure the <code class="code" id="-5rdbr5_210">-jvm-default</code> compiler option, set the <code class="code" id="-5rdbr5_211">jvmDefault</code> property in your Gradle Kotlin DSL:</p><div class="code-block" data-lang="kotlin">
kotlin {
  compilerOptions {
    jvmDefault = JvmDefaultMode.NO_COMPATIBILITY
  }
}
</div></section><section class="chapter"><h3 id="support-for-reading-and-writing-annotations-in-kotlin-metadata" data-toc="support-for-reading-and-writing-annotations-in-kotlin-metadata" data-label-id="experimental-general">Support for reading and writing annotations in Kotlin metadata</h3><p id="-5rdbr5_213">Previously, you had to read annotations from compiled JVM class files using reflection or bytecode analysis and manually match them to metadata entries based on signatures. This process was error-prone, especially for overloaded functions.</p><p id="-5rdbr5_214">Now, in Kotlin 2.2.0-RC3, the <a href="metadata-jvm.html" id="-5rdbr5_226">Kotlin Metadata JVM library</a> introduces support for reading annotations stored in Kotlin metadata.</p><p id="-5rdbr5_215">To make annotations available in the metadata for your compiled files, add the following compiler option:</p><div class="code-block" data-lang="kotlin">
-Xannotations-in-metadata
</div><p id="-5rdbr5_217">Alternatively, add it to the <code class="code" id="-5rdbr5_227">compilerOptions {}</code> block of your Gradle build file:</p><div class="code-block" data-lang="kotlin">
// build.gradle.kts
kotlin {
    compilerOptions {
        freeCompilerArgs.add(&quot;-Xannotations-in-metadata&quot;)
    }
}
</div><p id="-5rdbr5_219">With this option enabled, the Kotlin compiler writes annotations into metadata alongside the JVM bytecode, making them accessible to the <code class="code" id="-5rdbr5_228">kotlin-metadata-jvm</code> library.</p><p id="-5rdbr5_220">The library provides the following APIs for accessing annotations:</p><ul class="list _bullet" id="-5rdbr5_221"><li class="list__item" id="-5rdbr5_229"><p id="-5rdbr5_240"><code class="code" id="-5rdbr5_241">KmClass.annotations</code></p></li><li class="list__item" id="-5rdbr5_230"><p id="-5rdbr5_242"><code class="code" id="-5rdbr5_243">KmFunction.annotations</code></p></li><li class="list__item" id="-5rdbr5_231"><p id="-5rdbr5_244"><code class="code" id="-5rdbr5_245">KmProperty.annotations</code></p></li><li class="list__item" id="-5rdbr5_232"><p id="-5rdbr5_246"><code class="code" id="-5rdbr5_247">KmConstructor.annotations</code></p></li><li class="list__item" id="-5rdbr5_233"><p id="-5rdbr5_248"><code class="code" id="-5rdbr5_249">KmPropertyAccessorAttributes.annotations</code></p></li><li class="list__item" id="-5rdbr5_234"><p id="-5rdbr5_250"><code class="code" id="-5rdbr5_251">KmValueParameter.annotations</code></p></li><li class="list__item" id="-5rdbr5_235"><p id="-5rdbr5_252"><code class="code" id="-5rdbr5_253">KmFunction.extensionReceiverAnnotations</code></p></li><li class="list__item" id="-5rdbr5_236"><p id="-5rdbr5_254"><code class="code" id="-5rdbr5_255">KmProperty.extensionReceiverAnnotations</code></p></li><li class="list__item" id="-5rdbr5_237"><p id="-5rdbr5_256"><code class="code" id="-5rdbr5_257">KmProperty.backingFieldAnnotations</code></p></li><li class="list__item" id="-5rdbr5_238"><p id="-5rdbr5_258"><code class="code" id="-5rdbr5_259">KmProperty.delegateFieldAnnotations</code></p></li><li class="list__item" id="-5rdbr5_239"><p id="-5rdbr5_260"><code class="code" id="-5rdbr5_261">KmEnumEntry.annotations</code></p></li></ul><p id="-5rdbr5_222">These APIs are <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_262">Experimental</a>. To opt in, use the <code class="code" id="-5rdbr5_263">@OptIn(ExperimentalAnnotationsInMetadata::class)</code> annotation.</p><p id="-5rdbr5_223">Here's an example of reading annotations from Kotlin metadata:</p><div class="code-block" data-lang="kotlin">
@file:OptIn(ExperimentalAnnotationsInMetadata::class)

import kotlin.metadata.ExperimentalAnnotationsInMetadata
import kotlin.metadata.jvm.KotlinClassMetadata

annotation class Label(val value: String)

@Label(&quot;Message class&quot;)
class Message

fun main() {
    val metadata = Message::class.java.getAnnotation(Metadata::class.java)
    val kmClass = (KotlinClassMetadata.readStrict(metadata) as KotlinClassMetadata.Class).kmClass
    println(kmClass.annotations)
    // [@Label(value = StringValue(&quot;Message class&quot;))]
}
</div><aside class="prompt" data-type="warning" data-title="" id="-5rdbr5_225"><p id="-5rdbr5_264">If you use the <code class="code" id="-5rdbr5_266">kotlin-metadata-jvm</code> library in your projects, we recommend testing and updating your code to support annotations. Otherwise, when annotations in metadata become <a href="https://youtrack.jetbrains.com/issue/KT-75736" id="-5rdbr5_267" data-external="true" rel="noopener noreferrer" target="_blank">enabled by default</a> in a future Kotlin version, your projects may produce invalid or incomplete metadata.</p><p id="-5rdbr5_265">If you experience any problems, please report them in our <a href="https://youtrack.jetbrains.com/issue/KT-31857" id="-5rdbr5_268" data-external="true" rel="noopener noreferrer" target="_blank">issue tracker</a>.</p></aside></section></section><section class="chapter"><h2 id="kotlin-native" data-toc="kotlin-native">Kotlin/Native</h2><section class="chapter"><h3 id="per-object-memory-allocation" data-toc="per-object-memory-allocation" data-label-id="experimental-opt-in">Per-object memory allocation</h3><p id="-5rdbr5_272">Kotlin/Native's <a href="https://github.com/JetBrains/kotlin/blob/master/kotlin-native/runtime/src/alloc/custom/README.md" id="-5rdbr5_277" data-external="true" rel="noopener noreferrer" target="_blank">memory allocator</a> can now reserve memory on a per-object basis. In some cases, it may help you avoid strict memory limitations or high memory consumption on the application's startup.</p><p id="-5rdbr5_273">The new feature is designed to replace the <code class="code" id="-5rdbr5_278">-Xallocator=std</code> compiler option that enabled the system memory allocator instead of the default one. Now you can disable buffering (paging of allocations) without switching memory allocators.</p><p id="-5rdbr5_274">The feature is currently <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_279">Experimental</a>. To enable it, set the following option in your <code class="code" id="-5rdbr5_280">gradle.properties</code> file:</p><div class="code-block" data-lang="none">
kotlin.native.binary.pagedAllocator=false
</div><p id="-5rdbr5_276">Please report any problems to our issue tracker <a href="https://kotl.in/issue" id="-5rdbr5_281" data-external="true" rel="noopener noreferrer" target="_blank">YouTrack</a>.</p></section><section class="chapter"><h3 id="llvm-update-from-16-to-19" data-toc="llvm-update-from-16-to-19">LLVM update from 16 to 19</h3><p id="-5rdbr5_282">In Kotlin 2.2.0-RC3, we updated LLVM from version 16 to 19. The new version includes performance improvements, bug fixes, and security updates.</p><p id="-5rdbr5_283">This update shouldn't affect your code, but if you encounter any issues, please report them to our <a href="http://kotl.in/issue" id="-5rdbr5_284" data-external="true" rel="noopener noreferrer" target="_blank">issue tracker</a>.</p></section></section><section class="chapter"><h2 id="kotlin-wasm-wasmjs-target-separated-from-js-target" data-toc="kotlin-wasm-wasmjs-target-separated-from-js-target">Kotlin/Wasm: wasmJs target separated from js target</h2><p id="-5rdbr5_285">Before, the <code class="code" id="-5rdbr5_294">wasmJs</code> target shared the same infrastructure as the <code class="code" id="-5rdbr5_295">js</code> target. As a result, both targets were hosted in the same directory (<code class="code" id="-5rdbr5_296">build/js</code>) and used the same NPM tasks and configurations.</p><p id="-5rdbr5_286">Now, the <code class="code" id="-5rdbr5_297">wasmJs</code> target has its own infrastructure separate from the <code class="code" id="-5rdbr5_298">js</code> target. This allows the Wasm tasks and types to be distinct from the JavaScript ones, enabling independent configuration.</p><p id="-5rdbr5_287">Additionally, the Wasm-related project files and NPM dependencies are now in a separate <code class="code" id="-5rdbr5_299">build/wasm</code> directory.</p><p id="-5rdbr5_288">New NPM-related tasks have been introduced for Wasm, while existing JavaScript tasks are now dedicated only to JavaScript:</p><div class="table-wrapper"><table class="wide" id="-5rdbr5_289"><thead><tr class="ijRowHead" id="-5rdbr5_300"><th id="-5rdbr5_303"><p><span class="control" id="-5rdbr5_305">Wasm tasks</span></p></th><th id="-5rdbr5_304"><p><span class="control" id="-5rdbr5_306">JavaScript tasks</span></p></th></tr></thead><tbody><tr id="-5rdbr5_301"><td id="-5rdbr5_307"><p><code class="code" id="-5rdbr5_309">kotlinWasmNpmInstall</code></p></td><td id="-5rdbr5_308"><p><code class="code" id="-5rdbr5_310">kotlinNpmInstall</code></p></td></tr><tr id="-5rdbr5_302"><td id="-5rdbr5_311"><p><code class="code" id="-5rdbr5_313">wasmRootPackageJson</code></p></td><td id="-5rdbr5_312"><p><code class="code" id="-5rdbr5_314">rootPackageJson</code></p></td></tr></tbody></table></div><p id="-5rdbr5_290">Similarly, new Wasm-specific declarations are introduced:</p><div class="table-wrapper"><table class="wide" id="-5rdbr5_291"><thead><tr class="ijRowHead" id="-5rdbr5_315"><th id="-5rdbr5_322"><p><span class="control" id="-5rdbr5_324">Wasm declarations</span></p></th><th id="-5rdbr5_323"><p><span class="control" id="-5rdbr5_325">JavaScript declarations</span></p></th></tr></thead><tbody><tr id="-5rdbr5_316"><td id="-5rdbr5_326"><p><code class="code" id="-5rdbr5_328">WasmNodeJsRootPlugin</code></p></td><td id="-5rdbr5_327"><p><code class="code" id="-5rdbr5_329">NodeJsRootPlugin</code></p></td></tr><tr id="-5rdbr5_317"><td id="-5rdbr5_330"><p><code class="code" id="-5rdbr5_332">WasmNodeJsPlugin</code></p></td><td id="-5rdbr5_331"><p><code class="code" id="-5rdbr5_333">NodeJsPlugin</code></p></td></tr><tr id="-5rdbr5_318"><td id="-5rdbr5_334"><p><code class="code" id="-5rdbr5_336">WasmYarnPlugin</code></p></td><td id="-5rdbr5_335"><p><code class="code" id="-5rdbr5_337">YarnPlugin</code></p></td></tr><tr id="-5rdbr5_319"><td id="-5rdbr5_338"><p><code class="code" id="-5rdbr5_340">WasmNodeJsRootExtension</code></p></td><td id="-5rdbr5_339"><p><code class="code" id="-5rdbr5_341">NodeJsRootExtension</code></p></td></tr><tr id="-5rdbr5_320"><td id="-5rdbr5_342"><p><code class="code" id="-5rdbr5_344">WasmNodeJsEnvSpec</code></p></td><td id="-5rdbr5_343"><p><code class="code" id="-5rdbr5_345">NodeJsEnvSpec</code></p></td></tr><tr id="-5rdbr5_321"><td id="-5rdbr5_346"><p><code class="code" id="-5rdbr5_348">WasmYarnRootEnvSpec</code></p></td><td id="-5rdbr5_347"><p><code class="code" id="-5rdbr5_349">YarnRootEnvSpec</code></p></td></tr></tbody></table></div><p id="-5rdbr5_292">You can now work with the Wasm target independently of the JavaScript target, which simplifies the configuration.</p><p id="-5rdbr5_293">This change is enabled by default and requires no additional configuration.</p></section><section class="chapter"><h2 id="kotlin-js" data-toc="kotlin-js">Kotlin/JS</h2><section class="chapter"><h3 id="fix-for-copy-in-jsplainobject-interfaces" data-toc="fix-for-copy-in-jsplainobject-interfaces">Fix for copy() in @JsPlainObject interfaces</h3><p id="-5rdbr5_352">Kotlin/JS has an experimental plugin called <code class="code" id="-5rdbr5_357">js-plain-objects</code>, which introduced a <code class="code" id="-5rdbr5_358">copy()</code> function for interfaces annotated with <code class="code" id="-5rdbr5_359">@JsPlainObject</code>. You can use the <code class="code" id="-5rdbr5_360">copy()</code> function to manipulate objects.</p><p id="-5rdbr5_353">However, the initial implementation of <code class="code" id="-5rdbr5_361">copy()</code> was not compatible with inheritance, and this caused issues when a <code class="code" id="-5rdbr5_362">@JsPlainObject</code> interface extended other interfaces.</p><p id="-5rdbr5_354">To avoid limitations on plain objects, the <code class="code" id="-5rdbr5_363">copy()</code> function has been moved from the object itself to its companion object:</p><div class="code-block" data-lang="kotlin">
@JsPlainObject
external interface User {
    val name: String
    val age: Int
}

fun main() {
    val user = User(name = &quot;SomeUser&quot;, age = 21)
    // This syntax is not valid anymore
    val copy = user.copy(age = 35)      
    // This is the correct syntax
    val copy = User.copy(user, age = 35)
}
</div><p id="-5rdbr5_356">This change resolves conflicts in the inheritance hierarchy and eliminates ambiguity. It is enabled by default starting from Kotlin 2.2.0-RC3.</p></section><section class="chapter"><h3 id="support-for-typealiases-in-files-with-jsmodule-annotation" data-toc="support-for-typealiases-in-files-with-jsmodule-annotation">Support for typealiases in files with @JsModule annotation</h3><p id="-5rdbr5_364">Previously, files annotated with <code class="code" id="-5rdbr5_369">@JsModule</code> to import declarations from JavaScript modules were restricted to external declarations only. Meaning, you couldn't declare a <code class="code" id="-5rdbr5_370">typealias</code> in such files.</p><p id="-5rdbr5_365">Starting with Kotlin 2.2.0-RC3, you can declare typealiases inside files marked with <code class="code" id="-5rdbr5_371">@JsModule</code>:</p><div class="code-block" data-lang="kotlin">
@file:JsModule(&quot;somepackage&quot;)
package somepackage
typealias SomeClass = Any
</div><p id="-5rdbr5_367">This change reduces an aspect of Kotlin/JS interoperability limitations, and more improvements are planned for future releases.</p><p id="-5rdbr5_368">Support for typealiases in files with <code class="code" id="-5rdbr5_372">@JsModule</code> is enabled by default.</p></section></section><section class="chapter"><h2 id="gradle" data-toc="gradle">Gradle</h2><p id="-5rdbr5_373">Kotlin 2.2.0-RC3 is fully compatible with Gradle 7.6.3 through 8.14. You can also use Gradle versions up to the latest Gradle release. However, be aware that doing so may result in deprecation warnings, and some new Gradle features might not work.</p><section class="chapter"><h3 id="support-for-rich-output-in-console-for-kotlin-gradle-plugin" data-toc="support-for-rich-output-in-console-for-kotlin-gradle-plugin">Support for rich output in console for Kotlin Gradle plugin</h3><p id="-5rdbr5_377">In Kotlin 2.2.0-RC3, we support color and other rich output in the console during the Gradle build process, making it easier to read and understand the reported diagnostics. Rich output is available in supported terminal emulators for Linux and macOS. We're working on adding support for Windows.</p><figure id="-5rdbr5_378"><img alt="Gradle console" src="images/gradle-console-rich-output.png" title="Gradle console" width="600" height="249"></figure><p id="-5rdbr5_379">This feature is enabled by default, but if you want to override it, add the following Gradle property to your <code class="code" id="-5rdbr5_382">gradle.properties</code> file:</p><div class="code-block" data-lang="none">
org.gradle.console=plain
</div><p id="-5rdbr5_381">For more information about this property and its options, see Gradle's documentation on <a href="https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_customizing_log_format" id="-5rdbr5_383" data-external="true" rel="noopener noreferrer" target="_blank">Customizing log format</a>.</p></section><section class="chapter"><h3 id="integration-of-problems-api-within-kgp-diagnostics" data-toc="integration-of-problems-api-within-kgp-diagnostics">Integration of Problems API within KGP diagnostics</h3><p id="-5rdbr5_384">Previously, the Kotlin Gradle Plugin (KGP) reported diagnostics&mdash;such as warnings and errors&mdash;only as plain text output to the console or logs.</p><p id="-5rdbr5_385">Starting with 2.2.0-RC3, KGP introduces an additional reporting mechanism: it now uses <a href="https://docs.gradle.org/current/kotlin-dsl/gradle/org.gradle.api.problems/index.html" id="-5rdbr5_388" data-external="true" rel="noopener noreferrer" target="_blank">Gradle's Problems API</a>, a standardized way to report rich, structured problem information during the build process.</p><p id="-5rdbr5_386">KGP diagnostics are now easier to read and more consistently displayed across different interfaces like the Gradle CLI and IntelliJ IDEA.</p><p id="-5rdbr5_387">This integration is enabled by default, starting with Gradle 8.6 or later. As the API is still evolving, use the most recent Gradle version to benefit from the latest improvements.</p></section><section class="chapter"><h3 id="kgp-compatibility-with-warning-mode" data-toc="kgp-compatibility-with-warning-mode">KGP compatibility with '--warning-mode'</h3><p id="-5rdbr5_389">The Kotlin Gradle Plugin (KGP) diagnostics reported issues using fixed severity levels, meaning Gradle's <a href="https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_warnings" id="-5rdbr5_395" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_396">--warning-mode</code> command-line option</a> had no effect on how KGP displayed errors.</p><p id="-5rdbr5_390">Now, KGP diagnostics are compatible with the <code class="code" id="-5rdbr5_397">--warning-mode</code> option, providing more flexibility. For example, you can convert all warnings into errors or disable warnings entirely.</p><p id="-5rdbr5_391">With this change, KGP diagnostics adjust the output based on the selected warning mode:</p><ul class="list _bullet" id="-5rdbr5_392"><li class="list__item" id="-5rdbr5_398"><p id="-5rdbr5_400">When you set <code class="code" id="-5rdbr5_401">--warning-mode=fail</code>, diagnostics with <code class="code" id="-5rdbr5_402">Severity.Warning</code> are now elevated to <code class="code" id="-5rdbr5_403">Severity.Error</code>.</p></li><li class="list__item" id="-5rdbr5_399"><p id="-5rdbr5_404">When you set <code class="code" id="-5rdbr5_405">--warning-mode=none</code>, diagnostics with <code class="code" id="-5rdbr5_406">Severity.Warning</code> are not logged.</p></li></ul><p id="-5rdbr5_393">This behavior is enabled by default starting with 2.2.0-RC3.</p><p id="-5rdbr5_394">To ignore the <code class="code" id="-5rdbr5_407">--warning-mode</code> option, set <code class="code" id="-5rdbr5_408">kotlin.internal.diagnostics.ignoreWarningMode=true</code> in your Gradle properties.</p></section></section><section class="chapter"><h2 id="kotlin-standard-library-stable-base64-and-hexformat-apis" data-toc="kotlin-standard-library-stable-base64-and-hexformat-apis">Kotlin standard library: Stable Base64 and HexFormat APIs</h2><p id="-5rdbr5_409">In Kotlin 2.2.0-RC3, the <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.io.encoding/-base64/" id="-5rdbr5_412" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_415">Base64</code> API</a> and <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.text/-hex-format/" id="-5rdbr5_413" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_416">HexFormat</code> API</a> are now <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_414">Stable</a>.</p><section class="chapter"><h3 id="base64-encoding-and-decoding" data-toc="base64-encoding-and-decoding">Base64 encoding and decoding</h3><p id="-5rdbr5_417">Kotlin 1.8.20 introduced <a href="whatsnew1820.html#support-for-base64-encoding" id="-5rdbr5_424">Experimental support for Base64 encoding and decoding</a>. In Kotlin 2.2.0-RC3, the <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.io.encoding/-base64/" id="-5rdbr5_425" data-external="true" rel="noopener noreferrer" target="_blank">Base64 API</a> is now Stable and includes four encoding schemes, with the new <code class="code" id="-5rdbr5_426">Base64.Pem</code> added in this release:</p><ul class="list _bullet" id="-5rdbr5_418"><li class="list__item" id="-5rdbr5_427"><p id="-5rdbr5_431"><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.io.encoding/-base64/-default/" id="-5rdbr5_434" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_436">Base64.Default</code></a> uses the standard <a href="https://www.rfc-editor.org/rfc/rfc4648#section-4" id="-5rdbr5_435" data-external="true" rel="noopener noreferrer" target="_blank">Base64 encoding scheme</a>.</p><aside class="prompt" data-type="tip" data-title="" id="-5rdbr5_432"><p id="-5rdbr5_437">The <code class="code" id="-5rdbr5_438">Base64.Default</code> is the companion object of the <code class="code" id="-5rdbr5_439">Base64</code> class. As a result, you can call its functions with <code class="code" id="-5rdbr5_440">Base64.encode()</code> and <code class="code" id="-5rdbr5_441">Base64.decode()</code> instead of <code class="code" id="-5rdbr5_442">Base64.Default.encode()</code> and <code class="code" id="-5rdbr5_443">Base64.Default.decode()</code>.</p></aside><p id="-5rdbr5_433"></p></li><li class="list__item" id="-5rdbr5_428"><p id="-5rdbr5_444"><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.io.encoding/-base64/-default/-url-safe.html" id="-5rdbr5_445" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_447">Base64.UrlSafe</code></a> uses the <a href="https://www.rfc-editor.org/rfc/rfc4648#section-5" id="-5rdbr5_446" data-external="true" rel="noopener noreferrer" target="_blank">&quot;URL and Filename safe&quot;</a> encoding scheme.</p></li><li class="list__item" id="-5rdbr5_429"><p id="-5rdbr5_448"><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.io.encoding/-base64/-default/-mime.html" id="-5rdbr5_449" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_451">Base64.Mime</code></a> uses the <a href="https://www.rfc-editor.org/rfc/rfc2045#section-6.8" id="-5rdbr5_450" data-external="true" rel="noopener noreferrer" target="_blank">MIME</a> encoding scheme, inserting a line separator every 76 characters during encoding and skipping illegal characters during decoding.</p></li><li class="list__item" id="-5rdbr5_430"><p id="-5rdbr5_452"><code class="code" id="-5rdbr5_453">Base64.Pem</code> encodes data like <code class="code" id="-5rdbr5_454">Base64.Mime</code> but limits the line length to 64 characters.</p></li></ul><p id="-5rdbr5_419">You can use the Base64 API to encode binary data into a Base64 string and decode it back into bytes.</p><p id="-5rdbr5_420">Here's an example:</p><div class="code-block" data-lang="kotlin">
val foBytes = &quot;fo&quot;.map { it.code.toByte() }.toByteArray()
Base64.Default.encode(foBytes) // &quot;Zm8=&quot;
// Alternatively:
// Base64.encode(foBytes)

val foobarBytes = &quot;foobar&quot;.map { it.code.toByte() }.toByteArray()
Base64.UrlSafe.encode(foobarBytes) // &quot;Zm9vYmFy&quot;

Base64.Default.decode(&quot;Zm8=&quot;) // foBytes
// Alternatively:
// Base64.decode(&quot;Zm8=&quot;)

Base64.UrlSafe.decode(&quot;Zm9vYmFy&quot;) // foobarBytes
</div><p id="-5rdbr5_422">On the JVM, use the <code class="code" id="-5rdbr5_455">.encodingWith()</code> and <code class="code" id="-5rdbr5_456">.decodingWith()</code> extension functions to encode and decode Base64 with input and output streams:</p><div class="code-block" data-lang="kotlin">
import kotlin.io.encoding.*
import java.io.ByteArrayOutputStream

fun main() {
    val output = ByteArrayOutputStream()
    val base64Output = output.encodingWith(Base64.Default)

    base64Output.use { stream -&gt;
        stream.write(&quot;Hello World!!&quot;.encodeToByteArray())
    }

    println(output.toString())
    // SGVsbG8gV29ybGQhIQ==
}
</div></section><section class="chapter"><h3 id="hexadecimal-parsing-and-formatting-with-the-hexformat-api" data-toc="hexadecimal-parsing-and-formatting-with-the-hexformat-api">Hexadecimal parsing and formatting with the HexFormat API</h3><p id="-5rdbr5_457">The <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.text/-hex-format/" id="-5rdbr5_461" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-5rdbr5_464">HexFormat</code> API</a> introduced in <a href="whatsnew19.html#new-hexformat-class-to-format-and-parse-hexadecimals" id="-5rdbr5_462">Kotlin 1.9.0</a> is now <a href="components-stability.html#stability-levels-explained" id="-5rdbr5_463">Stable</a>. You can use it to convert between numerical values and hexadecimal strings.</p><p id="-5rdbr5_458">For example:</p><div class="code-block" data-lang="kotlin" data-runnable="true">
fun main() {
    //sampleStart
    println(93.toHexString())
    //sampleEnd
}
</div><p id="-5rdbr5_460">For more information, see <a href="whatsnew19.html#new-hexformat-class-to-format-and-parse-hexadecimals" id="-5rdbr5_465">New HexFormat class to format and parse hexadecimals</a>.</p></section></section><div class="last-modified">21 June 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="whatsnew21.html" class="navigation-links__prev">What's new in Kotlin 2.1.0</a><a href="whatsnew2020.html" class="navigation-links__next">What's new in Kotlin 2.0.20</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>